version: 2.1
  jobs:
    build:
      docker: 
        - image: "debian:stretch"
      steps:
        - checkout # check out the code in the project directory
        - run: 
            name: Installing SUDO
            command: 'apt-get update && apt-get install -y sudo && rm -rf /var/lib/apt/lists/*'
        - run:
            name: Installing GCC
            command: 'apt-get update && apt-get install -y gcc g++'
        - run:
            name: Install CMAKE
            command: 'apt-get update && sudo apt-get install -y cmake'
        - run: cd build
        - run:
            name: Build CMAKE project
            command: cmake ..
        - run:
            name: Build binaries
            command: make
        - run:
            name: run vol tests
            command: src/test/vol-tests

